PROJECT(Cifar10Classifier)

SET(SRC Cifar10/Cifar10.cpp
        Common/Cifar10DataSetParser.cpp
        Common/ReadFile.cpp)

SET(BIN Cifar10)
SET(INC Common)

IF(OPENCV_INCLUDED)
  MESSAGE("${PROJECT_NAME}: OPENCV IS INCLUDED.")
  SET(OPENCV_FLAGS "-DOPENCV_INCLUDED=1")
  SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${OPENCV_FLAGS}")
  SET(OpenCV_DIR /usr/lib/)
  FIND_PACKAGE(OpenCV REQUIRED)
  INCLUDE_DIRECTORIES( ${OpenCV_INCLUDE_DIRS})
ELSE(OPENCV_INCLUDED)
  MESSAGE("${PROJECT_NAME}: OPENCV IS NOT INCLUDED.")
ENDIF(OPENCV_INCLUDED)


INCLUDE_DIRECTORIES(${INC})

ADD_EXECUTABLE(${BIN} ${SRC})
TARGET_LINK_LIBRARIES(${BIN} ${TORCH_LIBRARIES} ${OpenCV_LIBS})  
